@echo off
goto check_Permissions

REM Code block that checks for administrative permissions.
:check_Permissions
    echo Administrative permissions required. Detecting permissions...

    net session >nul 2>&1
    if %errorLevel% == 0 (
        echo Success: Administrative permissions confirmed.
        timeout 3
        goto intro_good
    ) else (
        echo Failure: Current permissions inadequate.
        timeout 3
        goto intro_bad
    )

    pause >nul

REM Intro if "Wireless-ADB.bat" was "Run as administrator".
:intro_good
    cls
    echo.
    echo Hello! To start, please enter your name.
    echo If you want to skip, just hit Enter.
    echo.
    goto user_name

REM Intro if "Wireless-ADB.bat" was run normally.
:intro_bad
    cls
    echo.
    echo The "Wireless-ADB.bat" was not run with Administrative permissions.
    echo.
    echo To "Run as administrator", Follow the steps that follow...
    echo.
    echo - Step 1:
    echo  Right Click on the "Wireless-ABD.bat" file.
    echo.
    echo - Step 2:
    echo  Move the cursor down to "Run as administrator"
    echo.
    echo Note: For this to work, you must have Admin rights. You must either
    echo       be loged in as Administrator, or have the login info.
    echo
 
:user_name
    set /p username= Name:
    if "%username%"="" (
        set username=User
        goto pick_path
    ) else (
        goto pick_path
    ) 
